[settings]
stats_server = stat1002.eqiad.wmnet
mysql_options = --defaults-extra-file=/etc/mysql/conf.d/analytics-research-client.cnf --host dbstore1002.eqiad.wmnet
; This query will be formatted with python's string.Formatter using the variables from within this settings group
query = ./sql/extract_query_and_click_logs.sat_clicks.sql
; controls the importance of result position within the set. Must be between 0 and 1 exclusive. Higher values
; place less weight on the position. .9 seems reasonable for a 20 item result set.
factor = .9
workDir = ./relevance
; The rest of the variables here are used within the sql query
date_start = 20160222000000
date_end = 20160229000000
dwell_threshold = 10
wiki = enwiki
num_sessions = 2000

[test1]
name = I need to be better at naming things...tfidf-visitPage
config = ./conf.json
labHost = suggesty.eqiad.wmflabs
searchCommand = sudo -u www-data hhvm /var/www/w/MWScript.php extensions/CirrusSearch/maintenance/runSearch.php --baseName enwiki --limit 20 --cluster nobelium --fork 8
;labHost = searchdemo.eqiad.wmflabs
;searchCommand = cd /srv/mediawiki-vagrant && mwvagrant ssh -- mwscript extensions/CirrusSearch/maintenance/runSearch.php --baseName enwiki --fork 12 --limit 20 --cluster labsearch

; brute force optimization. requires scipy and matplotlib. This section
; may be omitted to calculate the engine score a single time.
[optimize]
; Set the minimum and maximum values of the variables
bounds = [[1, 128], [64, 1024]]
; Ns is a set of bounds which will be interpolated into Ns points
; between the low and high values of bounds, inclusive.
Ns = 3
; display graph of the results? A result graph will be written out to
; {workDir}/optimize/{name} regardless.
plot = true
; Min/max z-value for contour plot colors. The bar will still be sized
; for the detected values, but the colors will be set with blue at zmin
; and red at zmax. All values below zmin have the zmin color, and all values
; above zmax have the zmax color.
zmin = 0.45
zmax = 0.65
; variables are defined by bounds and named with first as x0,
; second as x1, etc. (note i think those names are wrong...)
config = {
        "wgCirrusSearchFunctionRescoreWindowSize": %(x0)d,
		"wgCirrusSearchPhraseRescoreWindowSize": %(x1)d
    }
